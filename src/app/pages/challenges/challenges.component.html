<!-- challenges.component.html -->
<div class="challenges-container">
  <header class="challenges-header">
    <h1>Capture The Flag Challenges</h1>
    <p>Test your skills in our security playground</p>

    <div class="controls">
      <button (click)="toggleViewMode()" class="view-toggle">
        {{ isListView ? 'Grid View' : 'List View' }}
      </button>
      <div class="filter-controls">
        <select [(ngModel)]="selectedDifficulty">
          <option value="all">All Levels</option>
          <option *ngFor="let level of difficultyLevels" [value]="level">
            {{ level | titlecase }}
          </option>
        </select>
      </div>
    </div>
  </header>

  <div [ngClass]="{ 'grid-view': !isListView, 'list-view': isListView }">
    <div *ngFor="let challenge of filteredChallenges" class="challenge-card">
      <div class="card-header">
        <span class="difficulty-badge" [ngClass]="challenge.difficulty">
          {{ challenge.difficulty }}
        </span>
        <span class="category-tag">{{ challenge.category }}</span>
      </div>

      <h3>{{ challenge.title }}</h3>
      <p>{{ challenge.description }}</p>

      <div class="card-footer">
        <span>{{ challenge.points }} pts</span>
        <button (click)="startChallenge(challenge.id)" class="ctf-button">
          {{ challenge.isActive ? 'Continue' : 'Start' }}
        </button>
      </div>
    </div>
  </div>

  <!-- Tournament Banner -->
  <div *ngIf="activeTournament" class="tournament-banner">
    <h2>⚔️ Live Tournament: {{ activeTournament.name }}</h2>
    <p>{{ activeTournament.description }}</p>
    <button routerLink="/tournaments/{{ activeTournament.id }}" class="tournament-button">Join Now</button>
  </div>
</div>
